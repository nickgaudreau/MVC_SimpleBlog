@model SimpleBlog.ViewModels.LayoutSidebar
           
@{
    Layout = null;
}

<div class="panel panel-success">
    <div class="panel panel-heading">About me</div>
    <div class="panel-body">
        Bacon ipsum dolor amet chicken ham hock brisket short loin hamburger ball tip turkey meatloaf.
        Jerky rump tail filet mignon ham hock pig tongue kielbasa pork loin pork belly cow venison.
        Corned beef doner filet mignon ground round. Frankfurter spare ribs turkey pork chop pork belly.
    </div>
</div>

@if (Model.Tags.Any())
{
    var maxPostsInTag = Model.Tags.Max(t => t.PostCount);

    <div class="panel panel-info tags">
        <div class="panel-heading">Tags</div>
        <div class="panel-body">
            <div class="list-group">
                @foreach (var tag in Model.Tags)
                {
                    // determining the % from base and max value
                    var percent = Math.Ceiling((float)tag.PostCount / maxPostsInTag * 100);

                    <a class="list-group-item" href="@Url.RouteUrl("Tag", new {tag.Id, tag.Slug})">
                        <span class="name">@tag.Name</span>
                        <span class="badge">@tag.PostCount</span>
                        <span class="progress">
                            <span class="progress-bar progress-bar-info" style="width: @percent%"></span>
                        </span>
                    </a>
                }
            </div>
        </div>
    </div>
}


@if (Model.IsLoggedIn && Model.IsLoggedIn)
{
    <div class="panel panel-default">
        <div class="panel panel-heading">@Model.Username</div>
        <div class="panel-body">
            <div class="btn-group btn-group-sm">
                <a href="@Url.Action("Index", "Posts", new {area = "admin"})" class="btn btn-default">Posts</a>
                
                <a href="@Url.Action("new", "Posts", new {area = "admin"})" class="btn btn-default">Create Post</a>
                 
            </div>
        </div>
    </div>
}